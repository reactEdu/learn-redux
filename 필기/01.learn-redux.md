# 리덕스가 useReducer보다 좋은점
- 특정 조건에 따라 액션 무시 가능
- 액션을 콘솔에 출력하거나 서버쪽에 로깅 가능
- 액션이 디스패치 됬을때 이를 수정해서 리듀서에게 전달 가능
- 특정 액션이 발생했을 때 이에 기반해서 다른 액션 발생 시키는것 가능
- 특정 액션이 발생했을 때 특정 함수를 실행 가능

# 리덕스에서 사용되는 키워드 숙지하기

## 액션 (Action)
- 상태(state)에 변화가 필요할 때 발생 시키는 객체
- 타입: 필수, 리덕스에서 상태 업데이트할때 구분하는 값으로 사용
- 그외: 상태 변경시 필요한 데이터는 객체에 같이 넣으면 된다.

```javascript
// 인풋 값이 바뀔때 "안녕하세요" 텍스트를 표시하려고 할때 액션 값
{ type:"CHANGE_INPUT", text: "안녕하세요"}
```

## 액션 생성함수 (Action Creator)
- 파라미터를 받아와서 액션 객체를 만들어주는 함수
- 반드시 사용해야 하는것은 아니고 액션 객체를 편하게 만드려고 사용한다.

```javascript
export const changeInput = text => ({
  type:"CHANGE_INPUT",
  text
});
```

## 리듀서 (Reducer)
- state와 action을 받아서 상태 변경을 일으키는 함수
- 액션 타입을 가지고 상태를 변경(update)하는 작업을 함
- 불변성을 지켜야함 -> 새로운 객체로 반환해야 함
- useReducer랑 차이점
  - default에서 throw Error를 하는게 일반적
  - redux에서는 return state를 한다.

## 스토어 (Store)
- 규칙: 한 앱당 하나의 스토어를 가진다.
- 상태, reducer, 내장함수(dispatch, subscribe)를 가진다.

## 디스패치 (dispatch)
- 액션을 store에 전달하는 함수
- store는 reducer에 액션을 넘겨서 상태가 변경 될 수 있게 한다.

```javascript
dispatch({ type:"CHANGE_INPUT", text: "안녕하세요"});
```

## 구독 (subscribe)
- 파라미터로 함수를 넣어주면 액션이 디스패치될 때마다 함수가 호출된다.
- 즉 store가 업데이트를 할때마다 호출되는것
- react-redux의 connect() 혹은 useSelector() 가 store가 업데이트를 할때마다 컴포넌트를 업데이트 해준다.
- 즉 컴포넌트가 redux를 구독하는 구조가 된다.

# 리덕스의 3가지 규칙

## 하나의 앱에는 하나의 스토어만 존재
- 여러개 만들수는 있지만 일반적으로 하지 않는다.
- 리덕스 개발자도구를 제대로 사용할수 없어서 효율이 떨어진다.

## 상태는 읽기전용(read only)
- 리액트의 불변성 지켜야만

## 리듀서 함수는 순수한 함수여야 한다.
- 똑같은 파라미터로 호출된 리듀서 함수는 언제나 똑같은 결과값을 반환해야만 한다. : 동일한 input -> 동일한 output
- 내부에서 호출시 변경되는 작업은 전부 컴포넌트나 미들웨어에서 해야한다.
- 함수 호출할때마다 바뀌는 작업의 예: new Date(), Math.random(), axios.get()
- 즉 리듀서에서 새로운 상태를 만들때는 파라미터로 받은 state와 action에만 의존해서 만들어야 된다는 것!
